---
title: "Vector Database Tools"
description: "Semantic search, content indexing, and vector database operations"
---

## Overview

Vector database tools provide comprehensive semantic search and content indexing capabilities. All tools integrate with the Tablr backend API for AI-powered content understanding and retrieval operations.

<Note>
Vector operations require a valid Tablr API key and communicate with the Tablr backend service.
</Note>

---

## semantic_search

Search through indexed repositories and documentation using natural language queries that understand meaning and context.

### Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `query` | string | Yes | - | Natural language search query (3-500 characters) |
| `sources` | array | No | all | Limit search to specific repository or documentation URLs |
| `top_results` | integer | No | 10 | Maximum number of results to return (1-50) |
| `similarity_threshold` | number | No | 0.7 | Minimum similarity score (0.0-1.0) |

### Search Features

#### Semantic Understanding
- Finds content by meaning, not just keyword matches
- Understands context and relationships between concepts
- Works across multiple programming languages and documentation formats

#### Multi-Source Search  
- Search across multiple repositories simultaneously
- Combine documentation and code search results
- Filter by specific sources when needed

### Usage Examples

<CodeGroup>

```json Code Pattern Search
{
  "query": "authentication middleware implementation",
  "sources": ["https://github.com/express/express"],
  "top_results": 5,
  "similarity_threshold": 0.8
}
```

```json Documentation Search
{
  "query": "how to handle async operations in React hooks",
  "sources": ["https://react.dev"],
  "top_results": 10
}
```

```json Multi-Repository Search
{
  "query": "error handling patterns for API endpoints",
  "top_results": 15,
  "similarity_threshold": 0.75
}
```

</CodeGroup>

### Response Format

```json
{
  "success": true,
  "data": {
    "query": "authentication middleware implementation",
    "results": [
      {
        "content": "Authentication middleware for Express.js applications using JWT tokens...",
        "similarity_score": 0.92,
        "source_url": "https://github.com/express/express",
        "file_path": "lib/middleware/auth.js",
        "title": "JWT Authentication Middleware",
        "language": "javascript",
        "relevance_category": "high",
        "content_type": "code"
      },
      {
        "content": "Middleware implementation for validating user sessions and permissions...",
        "similarity_score": 0.88,
        "source_url": "https://github.com/express/express", 
        "file_path": "examples/auth/session.js",
        "title": "Session Validation Middleware",
        "language": "javascript",
        "relevance_category": "high",
        "content_type": "code"
      }
    ],
    "total_results": 15,
    "search_time_ms": 850,
    "message": "Found 15 semantically similar results"
  }
}
```

---

## search_code

Search for specific code examples, functions, and implementations across indexed repositories with programming language filtering.

### Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `query` | string | Yes | - | Code-focused search query (3-200 characters) |
| `repositories` | array | No | all | Limit search to specific GitHub repositories |
| `programming_languages` | array | No | all | Filter by programming languages |
| `top_results` | integer | No | 15 | Maximum code examples to return (1-30) |

### Language Support

#### Supported Languages
- javascript, typescript, python, java, go, rust, cpp, csharp, php, ruby, swift, kotlin

#### Code-Focused Features
- Optimized for finding function definitions and code patterns
- Enhanced metadata with file paths and language detection
- Relevance scoring based on code structure and implementation patterns

### Usage Examples

<CodeGroup>

```json Repository Code Search
{
  "source_type": "repo",
  "source_id": "https://github.com/supabase/supabase",
  "query": "user authentication implementation",
  "limit": 5,
  "threshold": 0.8
}
```

```json Documentation Search
{
  "source_type": "doc",
  "source_id": "postgresql-docs",
  "query": "setting up row level security policies",
  "limit": 10
}
```

```json Database Table Search
{
  "source_type": "table",
  "source_id": "users",
  "query": "user profile and preferences columns",
  "threshold": 0.75
}
```

</CodeGroup>

### Response Format

```json
{
  "success": true,
  "data": {
    "source_type": "repo",
    "source_id": "https://github.com/supabase/supabase",
    "query": "user authentication implementation",
    "results": [
      {
        "content": "Authentication middleware implementation using JWT tokens...",
        "metadata": {
          "file_path": "src/auth/middleware.ts",
          "line_range": "45-67",
          "last_updated": "2023-11-15T10:30:00Z"
        },
        "similarity_score": 0.92,
        "relevance": "high"
      },
      {
        "content": "User registration and login flow handlers...",
        "metadata": {
          "file_path": "src/auth/handlers.ts", 
          "line_range": "12-35",
          "last_updated": "2023-11-10T14:20:00Z"
        },
        "similarity_score": 0.88,
        "relevance": "high"
      }
    ],
    "total_results": 15,
    "execution_time": 850
  }
}
```

---

## manage_index

Create, manage, and maintain vector indexes for semantic search operations.

### Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `action` | string | Yes | Management action: "index", "delete", "rename", "status", "list" |
| `source_type` | string | Yes | Type of data source: "repo", "doc", or "table" |
| `source_id` | string | Yes | Unique identifier for the source |
| `new_name` | string | No | New display name (required for "rename" action) |

### Available Actions

#### Index ("index")
Create a new vector index for the specified source.

#### Delete ("delete")
Remove an existing vector index permanently.

#### Rename ("rename")
Change the display name of an existing index.

#### Status ("status")
Get detailed information about an index's current state.

#### List ("list")  
Show all available indexes for the source type.

### Usage Examples

<CodeGroup>

```json Create Repository Index
{
  "action": "index",
  "source_type": "repo",
  "source_id": "https://github.com/company/codebase"
}
```

```json Check Index Status
{
  "action": "status",
  "source_type": "table",
  "source_id": "user_profiles"
}
```

```json List All Document Indexes
{
  "action": "list",
  "source_type": "doc",
  "source_id": "all"
}
```

```json Rename Index
{
  "action": "rename",
  "source_type": "repo",
  "source_id": "https://github.com/company/old-name",
  "new_name": "Company Main Codebase"
}
```

```json Delete Index
{
  "action": "delete",
  "source_type": "doc",
  "source_id": "outdated-documentation"
}
```

</CodeGroup>

### Response Formats

#### Index Creation Response
```json
{
  "success": true,
  "data": {
    "action": "index",
    "source_type": "repo",
    "source_id": "https://github.com/company/codebase",
    "index_id": "idx_repo_company_codebase_2023_12_01",
    "status": "indexing",
    "progress": {
      "files_processed": 245,
      "total_files": 1200,
      "percentage": 20.4
    },
    "estimated_completion": "2023-12-01T11:30:00Z"
  }
}
```

#### Status Response
```json
{
  "success": true,
  "data": {
    "action": "status",
    "source_type": "table",
    "source_id": "user_profiles",
    "index_info": {
      "index_id": "idx_table_user_profiles_2023_11_28",
      "status": "ready",
      "created_at": "2023-11-28T09:15:00Z",
      "last_updated": "2023-11-28T09:45:00Z",
      "total_vectors": 15420,
      "search_performance": "optimal",
      "storage_size": "2.3MB"
    }
  }
}
```

#### List Response
```json
{
  "success": true,
  "data": {
    "action": "list",
    "source_type": "doc",
    "indexes": [
      {
        "index_id": "idx_doc_api_reference",
        "display_name": "API Reference Documentation",
        "source_id": "api-docs-v2",
        "status": "ready",
        "created_at": "2023-11-20T14:30:00Z",
        "vector_count": 5680
      },
      {
        "index_id": "idx_doc_user_guide",
        "display_name": "User Guide",
        "source_id": "user-guide-2023",
        "status": "indexing",
        "created_at": "2023-12-01T10:00:00Z",
        "progress": 65
      }
    ],
    "total_indexes": 2
  }
}
```

---

## Configuration

### Environment Variables

Vector operations require proper configuration through environment variables:

```bash
# Required - Tablr API Configuration
TABLR_API_URL=https://www.tablr.dev
TABLR_API_KEY=your_tablr_api_key_here

# Optional - Performance Tuning
VECTOR_API_TIMEOUT=30000          # Request timeout in milliseconds
VECTOR_API_MAX_RETRIES=3          # Maximum retry attempts
```

### API Key Setup

1. **Get API Key**: Obtain your Tablr API key from the dashboard
2. **Set Environment**: Configure the `TABLR_API_KEY` environment variable
3. **Test Connection**: Use any vector tool to verify connectivity

---

## Best Practices

### 1. Research Query Optimization
```json
// Good: Specific, focused queries
{
  "mode": "quick",
  "query": "PostgreSQL 16 performance improvements in parallel queries"
}

// Avoid: Vague or overly broad queries
{
  "mode": "deep", 
  "query": "tell me about databases"
}
```

### 2. Search Index Efficiency  
```json
// Good: Use appropriate thresholds
{
  "query": "user authentication",
  "threshold": 0.7,  // Balanced relevance
  "limit": 10        // Reasonable result count
}

// Avoid: Extreme thresholds or limits
{
  "threshold": 0.1,  // Too permissive
  "limit": 100       // Too many results
}
```

### 3. Index Management Strategy
```bash
# Recommended workflow
1. Create indexes for frequently searched content
2. Monitor index status and performance
3. Update indexes when source content changes significantly
4. Clean up unused indexes to optimize resources
```

### 4. Source Identification
```json
// Good: Clear, unique identifiers
{
  "source_type": "repo",
  "source_id": "https://github.com/company/main-api"
}

// Good: Descriptive table names
{
  "source_type": "table", 
  "source_id": "user_profiles_production"
}
```

---

## Integration Patterns

### Research-Driven Development
```json
// 1. Research current best practices
{
  "mode": "quick",
  "query": "latest security practices for API authentication 2024"
}

// 2. Deep dive into specific implementations  
{
  "mode": "deep",
  "query": "JWT vs session-based authentication performance comparison"
}

// 3. Search existing codebase for patterns
{
  "source_type": "repo",
  "source_id": "https://github.com/company/auth-service",
  "query": "JWT token validation implementation"
}
```

### Documentation Enhancement
```json
// 1. Index documentation sources
{
  "action": "index",
  "source_type": "doc",
  "source_id": "internal-api-docs"
}

// 2. Enable semantic search
{
  "source_type": "doc",
  "source_id": "internal-api-docs", 
  "query": "rate limiting configuration examples"
}

// 3. Keep indexes updated
{
  "action": "status",
  "source_type": "doc",
  "source_id": "internal-api-docs"
}
```

### Database Schema Discovery
```json
// 1. Index important tables
{
  "action": "index",
  "source_type": "table",
  "source_id": "user_analytics"
}

// 2. Search for schema patterns
{
  "source_type": "table",
  "source_id": "user_analytics",
  "query": "user engagement tracking columns"
}
```

---

## Performance Considerations

### Research Agent
- **Quick Mode**: Optimized for speed, typically completes in 10-30 seconds
- **Deep Mode**: Thorough analysis, may take 2-5 minutes for complex queries
- **Rate Limiting**: Respect API limits for concurrent research requests

### Search Operations
- **Index Readiness**: Ensure indexes are in "ready" status before searching
- **Query Complexity**: Complex queries may take longer to process
- **Result Limits**: Use reasonable limits to balance performance and completeness

### Index Management
- **Creation Time**: Large repositories may take 10-30 minutes to index
- **Storage Impact**: Indexes require additional storage space
- **Update Frequency**: Re-index when source content changes significantly

---

## Error Handling

### Common Error Types

- **AuthenticationError**: Invalid or missing Tablr API key
- **RateLimitError**: Too many requests in a short time period
- **IndexNotReadyError**: Attempting to search an index that's still being created
- **SourceNotFoundError**: Specified source ID doesn't exist or isn't accessible
- **InvalidQueryError**: Query parameters don't meet requirements

### Error Response Format

```json
{
  "success": false,
  "error": {
    "type": "IndexNotReadyError",
    "message": "Index is still being created and not ready for search",
    "details": {
      "index_id": "idx_repo_large_codebase",
      "current_status": "indexing",
      "progress": "45%",
      "estimated_completion": "2023-12-01T11:30:00Z"
    },
    "suggestions": [
      "Wait for indexing to complete before searching",
      "Check index status using the manage_index tool",
      "Consider searching a different, ready index"
    ]
  }
}
```

---

## Security & Privacy

### API Key Management
- **Environment Variables**: Store API keys in environment variables, never in code
- **Key Rotation**: Regularly rotate API keys for security
- **Access Control**: Limit API key access to authorized users only

### Data Privacy
- **Source Content**: Be mindful of sensitive information in indexed sources
- **Search Queries**: Avoid including sensitive data in search queries
- **Result Handling**: Properly secure and dispose of search results containing sensitive information

### Rate Limiting
- **Request Throttling**: Implement proper request spacing for high-volume operations
- **Concurrent Limits**: Respect API concurrent request limits
- **Error Handling**: Implement exponential backoff for rate limit errors

<Note>
Vector operations are designed to work seamlessly with your existing Tablr MCP setup while providing advanced AI-powered capabilities for research and semantic search.
</Note>